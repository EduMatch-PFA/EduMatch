import{r as m,j as d,a as n,n as b,d as O}from"./app-232ef556.js";import{M as N,C as T}from"./MainLayout-77b06f02.js";import{t as C}from"./utils-cc42a835.js";import{A as _}from"./Avatar-9e5941e6.js";import A from"./Resume-b2466e88.js";import L from"./Experience-2a30c706.js";import I from"./Education-f7759de6.js";import M from"./Certification-72e8681f.js";import R from"./ProfileInfo-24c9d825.js";import{S as U}from"./Stars-58073c1d.js";import D from"./FeedbacksCard-c9bdb425.js";import{I as j}from"./InputLabel-af9d5361.js";import"./Logo-7890610f.js";import"./transition-39fb0608.js";import"./use-owner-2aae41b7.js";import"./iconBase-a3ef7c7d.js";import"./PrimaryButton-b548ea0c.js";import"./index.esm-c4abe8a5.js";import"./index.esm-6ea15950.js";import"./CardLayout-13f46883.js";import"./Card-7336c8e7.js";import"./FormAddResume-1142353a.js";import"./SecondaryButton-a7f26ff9.js";import"./description-325801b0.js";import"./TextInput-47f96366.js";import"./InputError-eed8428b.js";import"./index.esm-9017173d.js";import"./DeleteModal-f7cf639b.js";import"./DangerButton-a5883872.js";import"./FormAddExperience-98276cb3.js";import"./FormAddEducation-f3db2bd8.js";import"./FormAddCertification-5058c625.js";import"./Badge-18261f74.js";import"./FormEditProfile-659300e3.js";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var x=B,y=K,P=decodeURIComponent,H=encodeURIComponent,g=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function B(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var i={},r=t||{},o=e.split(";"),s=r.decode||P,a=0;a<o.length;a++){var c=o[a],l=c.indexOf("=");if(!(l<0)){var f=c.substring(0,l).trim();if(i[f]==null){var p=c.substring(l+1,c.length).trim();p[0]==='"'&&(p=p.slice(1,-1)),i[f]=V(p,s)}}}return i}function K(e,t,i){var r=i||{},o=r.encode||H;if(typeof o!="function")throw new TypeError("option encode is invalid");if(!g.test(e))throw new TypeError("argument name is invalid");var s=o(t);if(s&&!g.test(s))throw new TypeError("argument val is invalid");var a=e+"="+s;if(r.maxAge!=null){var c=r.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(c)}if(r.domain){if(!g.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!g.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function V(e,t){try{return t(e)}catch{return e}}function $(){return typeof document=="object"&&typeof document.cookie=="string"}function F(e,t){return typeof e=="string"?x(e,t):typeof e=="object"&&e!==null?e:{}}function z(e,t){return typeof t>"u"&&(t=!e||e[0]!=="{"&&e[0]!=="["&&e[0]!=='"'),!t}function w(e,t){t===void 0&&(t={});var i=J(e);if(z(i,t.doNotParse))try{return JSON.parse(i)}catch{}return e}function J(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}var u=globalThis&&globalThis.__assign||function(){return u=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},u.apply(this,arguments)},Y=function(){function e(t,i){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=F(t,i),new Promise(function(){r.HAS_DOCUMENT_COOKIE=$()}).catch(function(){})}return e.prototype._updateBrowserValues=function(t){this.HAS_DOCUMENT_COOKIE&&(this.cookies=x(document.cookie,t))},e.prototype._emitChange=function(t){for(var i=0;i<this.changeListeners.length;++i)this.changeListeners[i](t)},e.prototype.get=function(t,i,r){return i===void 0&&(i={}),this._updateBrowserValues(r),w(this.cookies[t],i)},e.prototype.getAll=function(t,i){t===void 0&&(t={}),this._updateBrowserValues(i);var r={};for(var o in this.cookies)r[o]=w(this.cookies[o],t);return r},e.prototype.set=function(t,i,r){var o;typeof i=="object"&&(i=JSON.stringify(i)),this.cookies=u(u({},this.cookies),(o={},o[t]=i,o)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=y(t,i,r)),this._emitChange({name:t,value:i,options:r})},e.prototype.remove=function(t,i){var r=i=u(u({},i),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=u({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=y(t,"",r)),this._emitChange({name:t,value:void 0,options:i})},e.prototype.addChangeListener=function(t){this.changeListeners.push(t)},e.prototype.removeChangeListener=function(t){var i=this.changeListeners.indexOf(t);i>=0&&this.changeListeners.splice(i,1)},e}();const q=Y;var v=m.createContext(new q);v.Provider;v.Consumer;const G=v;function Q(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}function W(e){var t=m.useContext(G);if(!t)throw new Error("Missing <CookiesProvider>");var i=t.getAll(),r=m.useState(i),o=r[0],s=r[1],a=m.useRef(o);Q()&&m.useLayoutEffect(function(){function f(){var p=t.getAll();X(e||null,p,a.current)&&s(p),a.current=p}return t.addChangeListener(f),function(){t.removeChangeListener(f)}},[t]);var c=m.useMemo(function(){return t.set.bind(t)},[t]),l=m.useMemo(function(){return t.remove.bind(t)},[t]);return[o,c,l]}function X(e,t,i){if(!e)return!0;for(var r=0,o=e;r<o.length;r++){var s=o[r];if(t[s]!==i[s])return!0}return!1}function Me({user:e,canEdit:t,experiences:i,educations:r,certification:o,resume:s,feedbacks:a}){const[c,l]=m.useState(!1),[f,p]=m.useState(0),[k,E]=W(["showAlert"]),S=()=>{let h=0;return e.name&&(h+=25),e.phone_number&&(h+=25),e.birthdate&&(h+=25),s&&(h+=25),h};return m.useEffect(()=>{p(S()),k.showAlert==="false"?l(!1):l(!0)},[e,c,s]),d(N,{user:e,children:[t&&e.ROLE==="STUDENT"&&d("div",{className:`fixed w-full py-2 px-10 bg-primary text-white flexible gap-2 ${!c&&"invisible"}`,children:[n(T,{className:"cursor-pointer",onClick:()=>{l(!1),E("showAlert",!1,{maxAge:800,sameSite:!0})}}),f!==100?d("p",{children:["In order to ",n("strong",{children:"post a session"}),", you need to complete your profile."," ",d("strong",{children:["Your profile is ",f,"% complete"]}),"."]}):d("p",{children:["Your profile is ",f,"% complete,"," ",n("strong",{children:"Become a teacher now"}),"."]})]}),n(b,{title:"Profile"}),d("div",{className:"max-w-7xl mx-auto py-16 sm:px-6 lg:px-8 space-y-6",children:[d("div",{className:"flexible gap-3 flex-col",children:[n(_,{name:(e==null?void 0:e.name)||(e==null?void 0:e.fullname),img:e.picture,className:"rounded-full h-40"}),n("h2",{className:"font-semibold text-3xl",children:C(e.name)}),n("h3",{className:"text-lg",children:C(e.email)}),f===100&&e.ROLE==="STUDENT"&&t?n(O,{href:"/become-a-teacher",method:"post",as:"button",children:n("h3",{className:"text-primary font-semibold",children:"Click here to become a teacher"})}):e.ROLE==="TEACHER"&&n(U,{rating:e.rating})]}),n("div",{className:"pt-3",children:n(R,{user:e,percentage:f})}),n("div",{className:"pt-1",children:d("div",{className:"cards grid grid-cols-2 gap-x-6 gap-y-3",children:[n("div",{className:"self-start",children:n(A,{data:s,percentage:f})}),n("div",{className:"self-start",children:n(L,{data:i})}),n("div",{className:"self-start",children:n(I,{data:r})}),n("div",{className:"self-start",children:n(M,{data:o})})]})}),e.ROLE==="TEACHER"&&d("div",{children:[n(j,{value:"Feedbacks",className:"font-semibold text-[1.05rem]"}),n("div",{className:"my-4",children:n(D,{grid:"grid grid-cols-4 gap-x-4 ",feedbacks:a})})]})]})]})}export{Me as default};
